
#ifndef DMA_PRIVATE_H
#define DMA_PRIVATE_H


#define NULL ((*void)0)

#define DMA_ISR_FEIF0_LH		0x00000001
#define DMA_ISR_DMEIF0_LH		0x00000004
#define	DMA_ISR_TEIF0_LH		0x00000008
#define DMA_ISR_HTIF0_LH		0x00000010
#define DMA_ISR_TCIF0_LH		0x00000020

#define DMA_ISR0_CLEAR_LH		0x0000003D

#define DMA_ISR_FEIF1_LH		0x00000001<<6
#define DMA_ISR_DMEIF1_LH		0x00000004<<6
#define	DMA_ISR_TEIF1_LH		0x00000008<<6
#define DMA_ISR_HTIF1_LH		0x00000010<<6
#define DMA_ISR_TCIF1_LH		0x00000020<<6

#define DMA_ISR1_CLEAR_LH		0x0000003D<<6

#define DMA_ISR_FEIF2_LH		0x00000001<<16
#define DMA_ISR_DMEIF2_LH		0x00000004<<16
#define	DMA_ISR_TEIF2_LH		0x00000008<<16
#define DMA_ISR_HTIF2_LH		0x00000010<<16
#define DMA_ISR_TCIF2_LH		0x00000020<<16

#define DMA_ISR2_CLEAR_LH		0x0000003D<<16

#define DMA_ISR_FEIF3_LH		0x00000001<<22
#define DMA_ISR_DMEIF3_LH		0x00000004<<22
#define	DMA_ISR_TEIF3_LH		0x00000008<<22
#define DMA_ISR_HTIF3_LH		0x00000010<<22
#define DMA_ISR_TCIF3_LH		0x00000020<<22

#define DMA_ISR3_CLEAR_LH		0x0000003D<<22
/*
#define DMA_FCRR_CFEIF0_LH		0x00000001
#define DMA_FCRR_CDMEIF0_LH		0x00000004
#define	DMA_FCRR_CTEIF0_LH		0x00000008
#define DMA_FCRR_CHTIF0_LH		0x00000010
#define DMA_FCRR_CTCIF0_LH		0x00000020
			
#define DMA_FCRR_CFEIF1_LH		0x00000001<<6
#define DMA_FCRR_CDMEIF1_LH		0x00000004<<6
#define	DMA_FCRR_CTEIF1_LH		0x00000008<<6
#define DMA_FCRR_CHTIF1_LH		0x00000010<<6
#define DMA_FCRR_CTCIF1_LH		0x00000020<<6
			
#define DMA_FCRR_CFEIF2_LH		0x00000001<<16
#define DMA_FCRR_CDMEIF2_LH		0x00000004<<16
#define	DMA_FCRR_CTEIF2_LH		0x00000008<<16
#define DMA_FCRR_CHTIF2_LH		0x00000010<<16
#define DMA_FCRR_CTCIF2_LH		0x00000020<<16
			
#define DMA_FCRR_CFEIF3_LH		0x00000001<<22
#define DMA_FCRR_CDMEIF3_LH		0x00000004<<22
#define	DMA_FCRR_CTEIF3_LH		0x00000008<<22
#define DMA_FCRR_CHTIF3_LH		0x00000010<<22
#define DMA_FCRR_CTCIF3_LH		0x00000020<<22
*/


#define MBURS_OFFSET			23U

#define DMA_CR_MBURS_SINGLE		0x00000000
#define DMA_CR_MBURS_INCR4		0x00000002<<MBURS_OFFSET
#define DMA_CR_MBURS_INCR8		0x00000004<<MBURS_OFFSET
#define DMA_CR_MBURS_INCR16		0x00000008<<MBURS_OFFSET

#define PBURST_OFFSET			21U

#define DMA_CR_PBURS_SINGLE		0x00000000
#define DMA_CR_PBURS_INCR4		0x00000002<<PBURST_OFFSET
#define DMA_CR_PBURS_INCR8		0x00000004<<PBURST_OFFSET
#define DMA_CR_PBURS_INCR16		0x00000008<<PBURST_OFFSET



#define CT_BIT					19U

#define DMA_CR_CT_ADD0			0x00000000
#define DMA_CR_CT_ADD1			0x00000001<<CT_BIT


#define DBM_BIT					18U												
#define DMA_CR_DBM_DIS			0x00000000
#define DMA_CR_DBM_EN			0x00000001<<DBM_BIT

#define PINCOS_BIT				15U
#define DMA_PINCOS_PSIZE_LINKED 0x00000000
#define DMA_PINCOS_PSIZE_FIXED	0x00000001<<PINCOS_BIT


#define MSIZE_BIT				13U
#define DMA_CR_MSIZE_BYTE		0x00000000
#define DMA_CR_MSIZE_HALF_WORD	0x00000001<<MSZIE_BIT
#define DMA_CR_MSIZE_WORD		0x00000002<<MSZIE_BIT	

#define PSIZE_BIT				11U
#define DMA_CR_PSIZE_BYTE		0x00000000
#define DMA_CR_PSIZE_HALF_WORD	0x00000001<<PSIZE_BIT
#define DMA_CR_PSIZE_WORD		0x00000002<<PSIZE_BIT	

#define MINC_BIT				10U
#define DMA_CR_MINC_FIXED		0x00000000
#define DMA_CR_MINC_INC			0x00000001<<MINC_BIT

#define PINC_BIT				9U
#define DMA_CR_PINC_FIXED		0x00000000
#define DMA_CR_PINC_INC			0x00000001<<PINC_BIT

#define CIRC_BIT				8U
#define DMA_CR_CIRC_DIS			0x00000000
#define DMA_CR_CIRC_EN			0x00000001<<CIRC_BIT

#define DIR_BIT					6U
#define DMA_CR_P_TO_M			0x00000000
#define DMA_CR_M_TO_P			0x00000001<<MSZIE_BIT
#define DMA_CR_M_TO_M			0x00000002<<MSZIE_BIT

#define PFCTRL_BIT				5U
#define DMA_CR_PFCTRL_DMA		0x00000000
#define DMA_CR_PFCTRL_PREPH		0x00000001<<PFCTRL_BIT


#define TCIE_BIT				4U
#define DMA_CR_TCIE_DIS			0x00000000
#define DMA_CR_TCIE_EN			0x00000001<<TCIE_BIT

#define HTIE_BIT				3U
#define DMA_CR_HTIE_DIS			0x00000000
#define DMA_CR_HTIE_EN			0x00000001<<HTIE_BIT

#define TEIE_BIT				2U
#define DMA_CR_TEIE_DIS			0x00000000
#define DMA_CR_TEIE_EN			0x00000001<<TEIE_BIT

#define DMEIE_BIT				1U
#define DMA_CR_DMEIE_DIS		0x00000000
#define DMA_CR_DMEIE_EN			0x00000001<<DMEIE_BIT

#define EN_BIT					0U
#define DMA_CR_DIS				0x00000000
#define DMA_CR_EN				0x00000001<<EN_BIT


#define FEIE_BIT				7U
#define DMA_FCR_FEIE_DIS		0x00000000
#define DMA_FCR_FEIE_EN			0x00000001<<FEIE_BIT

#define DMDIS_BIT				2U
#define DMA_FCR_DMDIS_DIS		0x00000000
#define DMA_FCR_DMDIS_EN		0x00000001<<DMDIS_BIT




#define CH_BIT					25U
#define PR_BIT					16U
#define FIFO_LEVEL_BIT			3U


#define DMAx_CR_CH1_BASE		0x00000001<<CH_BIT				
#define DMAx_CR_PR_Med			0x00000001<<PR_BIT
#define DMAx_FCR_FIFO_HLAF		0x00000001<<FIFO_LEVEL_BIT




#define DMA_ONE_BASE_ADD		0x40026000

#define DMA_STREAM0_OFF		0x10
#define DMA_STREAM_OFF		0x14


#define DMA_ONE_STREAM0_OFF		DMA_ONE_BASE_ADD+DMA_STREAM0_OFF

#define DMA_ONE_STREAM1			DMA_ONE_STREAM0+DMA_STREAM_OFF
#define DMA_ONE_STREAM2			DMA_ONE_STREAM1+DMA_STREAM_OFF
#define DMA_ONE_STREAM3			DMA_ONE_STREAM2+DMA_STREAM_OFF
#define DMA_ONE_STREAM4			DMA_ONE_STREAM3+DMA_STREAM_OFF
#define DMA_ONE_STREAM5			DMA_ONE_STREAM4+DMA_STREAM_OFF
#define DMA_ONE_STREAM6			DMA_ONE_STREAM5+DMA_STREAM_OFF
#define DMA_ONE_STREAM7			DMA_ONE_STREAM6+DMA_STREAM_OFF



#define DMA_TWO_BASE_ADD		0x40026400

			
			
#define DMA_TWO_STREAM0 		DMA_TWO_BASE_ADD+DMA_STREAM0_OFF
			
#define DMA_TWO_STREAM1			DMA_TWO_STREAM0+DMA_STREAM_OFF
#define DMA_TWO_STREAM2			DMA_TWO_STREAM1+DMA_STREAM_OFF
#define DMA_TWO_STREAM3			DMA_TWO_STREAM2+DMA_STREAM_OFF
#define DMA_TWO_STREAM4			DMA_TWO_STREAM3+DMA_STREAM_OFF
#define DMA_TWO_STREAM5			DMA_TWO_STREAM4+DMA_STREAM_OFF
#define DMA_TWO_STREAM6			DMA_TWO_STREAM5+DMA_STREAM_OFF
#define DMA_TWO_STREAM7			DMA_TWO_STREAM6+DMA_STREAM_OFF




typedef enum
{
	DMA_CH0=0,
	DMA_CH1=CH1_BASE,
	DMA_CH2,
	DMA_CH3,
	DMA_CH4,
	DMA_CH5,
	DMA_CH6,
	DMA_CH7
}DMA_enuChNu_t;

typedef enum 
{
	DMA_PR_Low=0,
	DMA_PR_Med,
	DMA_PR_High,
	DMA_PR_VeryHihg
}DMA_enuChPrLevel_t;


typedef enum
{
	DMA_FIFO_Quart=0,
	DMA_FIFO_Half=DMAx_FCR_FIFO_HLAF,
	DMA_FIFO_ThreeQuart,
	DMA_FIFO_Empty,
	DMA_FIFO_Full

}DMA_enuFifoLevel_t;

typedef enum
{
	DMA_FIFO_Quart=0,
	DMA_FIFO_Half,
	DMA_FIFO_ThreeQuart,
	DMA_FIFO_Full
}DMA_enuFIFO_Thresh_t;
	
	
	
typedef struct
{
		
	u32 DMA_LISR;
	u32 DMA_HISR;
	u32 DMA_LIFCR;
	u32 DMA_HIFCR; 


}volatile * const DMA_RegHandler_t;
	
typedef struct 
{
	u32 DMA_SCR;
	u32 DMA_SDTR;
	u32 DMA_SPAR;
	u32 DMA_SM0AR;
	u32 DMA_SM1AR;
	u32 DMA_SFCR;
	
}volatile * const DMA_StreamCfgHandler_t;
	
	
	
/*
Peripheral
requests  Stream 0 	Stream 1  		Stream 2 	Stream 3     Stream 4      Stream 5   Stream 6 Stream 7
Channel 0 SPI3_RX 	- SPI3_RX 		SPI2_RX  	SPI2_TX      SPI3_TX       - SPI3_TX
Channel 1 I2C1_RX 	I2C3_RX - - - 	I2C1_RX  	I2C1_TX      I2C1_TX       
Channel 2 TIM4_CH1  I2S3_EXT_RX     TIM4_CH2 	I2S2_EXT_TX  I2S3_EXT_TX   TIM4_UP     TIM4_CH3	

*/

static void GetStreamFlag(u8 StreamNu,u8 Flag);	
//static void ClearStreamFlag(u8 StreamNu,u8 Flag);
//static void SelectStreamChannel(u8 StreamNu,u8 Flag);	

#endif